<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Usage demo | goInception Docs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="goInception extension of the usage of Inception, to specify the remote server by adding annotations before the SQL review, and for distinguishing SQL and review adding special comments at the beginning and the end of SQL.">
    
    <link rel="preload" href="/goInception/assets/css/0.styles.b57c7c20.css" as="style"><link rel="preload" href="/goInception/assets/js/app.35e44c5d.js" as="script"><link rel="preload" href="/goInception/assets/js/3.a468a5ac.js" as="script"><link rel="preload" href="/goInception/assets/js/29.e351c224.js" as="script"><link rel="prefetch" href="/goInception/assets/js/10.44eb2437.js"><link rel="prefetch" href="/goInception/assets/js/11.05fdc934.js"><link rel="prefetch" href="/goInception/assets/js/12.5c06c266.js"><link rel="prefetch" href="/goInception/assets/js/13.bbd07852.js"><link rel="prefetch" href="/goInception/assets/js/14.222eb434.js"><link rel="prefetch" href="/goInception/assets/js/15.1cb8c282.js"><link rel="prefetch" href="/goInception/assets/js/16.6124a5c8.js"><link rel="prefetch" href="/goInception/assets/js/17.7b28b5b1.js"><link rel="prefetch" href="/goInception/assets/js/18.f6a993f8.js"><link rel="prefetch" href="/goInception/assets/js/19.caafd667.js"><link rel="prefetch" href="/goInception/assets/js/20.21a5c394.js"><link rel="prefetch" href="/goInception/assets/js/21.c7454f11.js"><link rel="prefetch" href="/goInception/assets/js/22.c2b2daca.js"><link rel="prefetch" href="/goInception/assets/js/23.d15fb4c3.js"><link rel="prefetch" href="/goInception/assets/js/24.f9fc20d1.js"><link rel="prefetch" href="/goInception/assets/js/25.7c473ba8.js"><link rel="prefetch" href="/goInception/assets/js/26.e910ea3c.js"><link rel="prefetch" href="/goInception/assets/js/27.7e628298.js"><link rel="prefetch" href="/goInception/assets/js/28.e23b8266.js"><link rel="prefetch" href="/goInception/assets/js/30.11de2771.js"><link rel="prefetch" href="/goInception/assets/js/31.3bf72658.js"><link rel="prefetch" href="/goInception/assets/js/32.d8822cad.js"><link rel="prefetch" href="/goInception/assets/js/33.d4d8a1ce.js"><link rel="prefetch" href="/goInception/assets/js/34.bd66eb0b.js"><link rel="prefetch" href="/goInception/assets/js/35.206cd400.js"><link rel="prefetch" href="/goInception/assets/js/36.c789dffd.js"><link rel="prefetch" href="/goInception/assets/js/37.4ba29217.js"><link rel="prefetch" href="/goInception/assets/js/38.95671f5a.js"><link rel="prefetch" href="/goInception/assets/js/39.4e46b7ce.js"><link rel="prefetch" href="/goInception/assets/js/4.edffa37c.js"><link rel="prefetch" href="/goInception/assets/js/40.789c8cb7.js"><link rel="prefetch" href="/goInception/assets/js/41.d4792fc5.js"><link rel="prefetch" href="/goInception/assets/js/42.45c371f3.js"><link rel="prefetch" href="/goInception/assets/js/43.e30bc9ac.js"><link rel="prefetch" href="/goInception/assets/js/44.c6fe8287.js"><link rel="prefetch" href="/goInception/assets/js/45.6a810bc3.js"><link rel="prefetch" href="/goInception/assets/js/46.6ad33969.js"><link rel="prefetch" href="/goInception/assets/js/47.14da7ce7.js"><link rel="prefetch" href="/goInception/assets/js/48.d03fb0bb.js"><link rel="prefetch" href="/goInception/assets/js/49.e2b534ae.js"><link rel="prefetch" href="/goInception/assets/js/5.264a70d7.js"><link rel="prefetch" href="/goInception/assets/js/50.16ca0037.js"><link rel="prefetch" href="/goInception/assets/js/51.3f01183e.js"><link rel="prefetch" href="/goInception/assets/js/52.97fd4f1e.js"><link rel="prefetch" href="/goInception/assets/js/6.43094ae0.js"><link rel="prefetch" href="/goInception/assets/js/7.d744fe65.js"><link rel="prefetch" href="/goInception/assets/js/8.0f8f0b66.js"><link rel="prefetch" href="/goInception/assets/js/9.83817072.js"><link rel="prefetch" href="/goInception/assets/js/vendors~docsearch.6cb0424f.js">
    <link rel="stylesheet" href="/goInception/assets/css/0.styles.b57c7c20.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/goInception/" class="home-link router-link-active"><!----> <span class="site-name">goInception Docs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/params.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/params.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow down"></span></button> <button type="button" aria-label="Languages" class="mobile-dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/params.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/params.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/goInception/" aria-current="page" class="sidebar-link">Introdunction</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Start</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/install.html" class="sidebar-link">Install</a></li><li><a href="/goInception/params.html" aria-current="page" class="active sidebar-link">Params</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/goInception/demo.html" class="sidebar-link">Demo</a></li><li><a href="/goInception/result.html" class="sidebar-link">Result Desc</a></li><li><a href="/goInception/config.html" class="sidebar-link">config.toml Desc</a></li><li><a href="/goInception/permission.html" class="sidebar-link">Permission Desc</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Config</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/options.html" class="sidebar-link">Options</a></li><li><a href="/goInception/rules.html" class="sidebar-link">Rules</a></li><li><a href="/goInception/backup.html" class="sidebar-link">Backup</a></li><li><a href="/goInception/osc.html" class="sidebar-link">Online-DDL: pt-osc</a></li><li><a href="/goInception/ghost.html" class="sidebar-link">Online-DDL: gh-ost</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/levels.html" class="sidebar-link">Custom audit level</a></li><li><a href="/goInception/kill_stmt.html" class="sidebar-link">Kill Operation</a></li><li><a href="/goInception/statistics.html" class="sidebar-link">Statistics</a></li><li><a href="/goInception/tree.html" class="sidebar-link">Syntax tree</a></li><li><a href="/goInception/trans.html" class="sidebar-link">Transaction</a></li><li><a href="/goInception/safe.html" class="sidebar-link">[Safe] User authentication</a></li><li><a href="/goInception/diff.html" class="sidebar-link">VS Inception</a></li></ul></section></li><li><a href="/goInception/support.html" class="sidebar-link">Support</a></li><li><a href="/goInception/changelog.html" class="sidebar-link">Changelog</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="usage-demo"><a href="#usage-demo" class="header-anchor">#</a> Usage demo</h3> <p>goInception extension of the usage of Inception, to specify the remote server by adding annotations before the SQL review, and for distinguishing SQL and review adding special comments at the beginning and the end of SQL.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">/*--user=root;--password=root;--host=127.0.0.1;--check=1;--port=3306;*/</span>
inception_magic_start<span class="token punctuation">;</span>
<span class="token keyword">use</span> test<span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> t1<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
inception_magic_commit<span class="token punctuation">;</span>
</code></pre></div><h3 id="option-list"><a href="#option-list" class="header-anchor">#</a> Option List</h3> <table><thead><tr><th style="text-align:left;">Command</th> <th style="text-align:left;">Default</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Explanation</th></tr></thead> <tbody><tr><td style="text-align:left;">host</td> <td style="text-align:left;">&quot;&quot;</td> <td style="text-align:left;">string</td> <td style="text-align:left;">DB Server host</td></tr> <tr><td style="text-align:left;">port</td> <td style="text-align:left;">0</td> <td style="text-align:left;">int</td> <td style="text-align:left;">DB Service port</td></tr> <tr><td style="text-align:left;">user</td> <td style="text-align:left;">&quot;&quot;</td> <td style="text-align:left;">string</td> <td style="text-align:left;">User name to connect to DB</td></tr> <tr><td style="text-align:left;">password</td> <td style="text-align:left;">&quot;&quot;</td> <td style="text-align:left;">string</td> <td style="text-align:left;">password to connect to DB</td></tr> <tr><td style="text-align:left;">db <code>v1.1.0</code></td> <td style="text-align:left;">mysql</td> <td style="text-align:left;">string</td> <td style="text-align:left;">Default connection DB, optional,can null.</td></tr> <tr><td style="text-align:left;">check</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Review only</td></tr> <tr><td style="text-align:left;">execute</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Execute SQL</td></tr> <tr><td style="text-align:left;">backup</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Backup when execute</td></tr> <tr><td style="text-align:left;">ignore_warnings</td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">If stop execute when warning or not.</td></tr> <tr><td style="text-align:left;">trans <code>v1.1.6</code></td> <td style="text-align:left;">0</td> <td style="text-align:left;">int</td> <td style="text-align:left;">How many DML operations can be included in each transaction. <code>&gt;1</code> means turn on transaction.</td></tr> <tr><td style="text-align:left;">fingerprint <code>v0.6.2</code></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">SQL fingerprint for similar DML. reuses the explanation, decreases explain operations, speed review.</td></tr> <tr><td style="text-align:left;">masking <code>v1.2.5</code></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">The new version of print SQL syntax tree, return JSON format result。<a href="https://github.com/hanchuanchuan/goInception/pull/355" target="_blank" rel="noopener noreferrer">More<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td style="text-align:left;">query-print <code>v0.7.1</code></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Print the SQL syntax map</td></tr> <tr><td style="text-align:left;">split <code>v0.9.1</code></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">Split DDL and DML on the same table. But other option unavailable such as review, execute,backup,print sql syntax map. Normally, no need to split, GoInception records table structure snapshot which can be used for binlog translation.</td></tr> <tr><td style="text-align:left;">sleep <code>v1.0-rc3</code></td> <td style="text-align:left;">0</td> <td style="text-align:left;">int</td> <td style="text-align:left;">For decrease the impact to DB service, set sleep time by sleep_rows. Default 0 millisecond, max value is 100000 millisecond, equally 100 second.</td></tr> <tr><td style="text-align:left;">sleep_rows <code>v1.0-rc3</code></td> <td style="text-align:left;">1</td> <td style="text-align:left;">int</td> <td style="text-align:left;">Sleep after how many SQL execute. Default 1.</td></tr> <tr><td style="text-align:left;">real_row_count <code>v1.0.3</code></td> <td style="text-align:left;">FALSE</td> <td style="text-align:left;">bool</td> <td style="text-align:left;">If get real DML effect rows by <code>count(*)</code>, default false, if ture, ignore fingerprintSQL, accurately first.</td></tr></tbody></table> <h3 id="mysql-encrypted-connection-set"><a href="#mysql-encrypted-connection-set" class="header-anchor">#</a> MySQL encrypted connection set</h3> <table><thead><tr><th style="text-align:left;">Key</th> <th style="text-align:left;">Default</th> <th style="text-align:left;">Type</th> <th style="text-align:left;">Explanation</th></tr></thead> <tbody><tr><td style="text-align:left;">ssl</td> <td style="text-align:left;">DISABLED</td> <td style="text-align:left;">string</td> <td style="text-align:left;">Ssl-mode same as mysql --ssl-mode</td></tr> <tr><td style="text-align:left;">ssl-ca</td> <td style="text-align:left;"></td> <td style="text-align:left;">string</td> <td style="text-align:left;">CA file path, PEM format</td></tr> <tr><td style="text-align:left;">ssl-cert</td> <td style="text-align:left;"></td> <td style="text-align:left;">string</td> <td style="text-align:left;">SSL public key file path, PEM format</td></tr> <tr><td style="text-align:left;">ssl-key</td> <td style="text-align:left;"></td> <td style="text-align:left;">string</td> <td style="text-align:left;">SSL private key file path, PEM format</td></tr></tbody></table> <h3 id="ssl-type-description"><a href="#ssl-type-description" class="header-anchor">#</a> SSL type description</h3> <table><thead><tr><th style="text-align:left;">type</th> <th style="text-align:left;">description</th></tr></thead> <tbody><tr><td style="text-align:left;">DISABLED(default)</td> <td style="text-align:left;">Disable TLS</td></tr> <tr><td style="text-align:left;">PREFERRED</td> <td style="text-align:left;">TLS when server publishing use.</td></tr> <tr><td style="text-align:left;">REQUIRED</td> <td style="text-align:left;">Use TLS, but do not check CA</td></tr> <tr><td style="text-align:left;">VERIFY_CA</td> <td style="text-align:left;">Identify CA, but ignore hostname mismatch</td></tr> <tr><td style="text-align:left;">VERIFY_IDENTITY</td> <td style="text-align:left;">Identify CA</td></tr></tbody></table> <h3 id="ca-authentication-demo"><a href="#ca-authentication-demo" class="header-anchor">#</a> CA Authentication Demo</h3> <div class="language-python extra-class"><pre class="language-python"><code><span class="token comment"># use ssl=verify_ca setting CA identify</span>
<span class="token comment"># need to put the CA with goInception service on the same server</span>
sql <span class="token operator">=</span> <span class="token string">''</span>'<span class="token operator">/</span><span class="token operator">*</span><span class="token operator">-</span><span class="token operator">-</span>user<span class="token operator">=</span>test<span class="token punctuation">;</span><span class="token operator">-</span><span class="token operator">-</span>password<span class="token operator">=</span>xxx<span class="token punctuation">;</span><span class="token operator">-</span><span class="token operator">-</span>host<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token operator">-</span>port<span class="token operator">=</span><span class="token number">3333</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token operator">-</span>check<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>\
<span class="token operator">-</span><span class="token operator">-</span>ignore<span class="token operator">-</span>warnings<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token operator">-</span><span class="token operator">-</span>ssl<span class="token operator">=</span>verify_ca<span class="token punctuation">;</span>\
<span class="token operator">-</span><span class="token operator">-</span>ssl<span class="token operator">-</span>ca<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysql<span class="token operator">/</span>data<span class="token operator">/</span>ca<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>\
<span class="token operator">-</span><span class="token operator">-</span>ssl<span class="token operator">-</span>cert<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysql<span class="token operator">/</span>data<span class="token operator">/</span>client<span class="token operator">-</span>cert<span class="token punctuation">.</span>pem<span class="token punctuation">;</span>\
<span class="token operator">-</span><span class="token operator">-</span>ssl<span class="token operator">-</span>key<span class="token operator">=</span><span class="token operator">/</span>data<span class="token operator">/</span>mysql<span class="token operator">/</span>data<span class="token operator">/</span>client<span class="token operator">-</span>key<span class="token punctuation">.</span>pem<span class="token punctuation">;</span><span class="token operator">*</span><span class="token operator">/</span>
inception_magic_start<span class="token punctuation">;</span>
use test_inc<span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
inception_magic_commit<span class="token punctuation">;</span>
</code></pre></div><h3 id="ssl-authentication-demo"><a href="#ssl-authentication-demo" class="header-anchor">#</a> SSL Authentication Demo</h3> <div class="language-python extra-class"><pre class="language-python"><code>sql <span class="token operator">=</span> <span class="token triple-quoted-string string">'''/*--user=test;--password=xxx;--host=127.0.0.1;--port=3333;--check=1;\
--ignore-warnings=1;--ssl=required;*/
inception_magic_start;
use test_inc;
...
inception_magic_commit;'''</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hanchuanchuan/goInception/edit/master/docs/params.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/31/2021, 6:03:15 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/goInception/install.html" class="prev">
        Install
      </a></span> <span class="next"><a href="/goInception/demo.html">
        Demo
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/goInception/assets/js/app.35e44c5d.js" defer></script><script src="/goInception/assets/js/3.a468a5ac.js" defer></script><script src="/goInception/assets/js/29.e351c224.js" defer></script>
  </body>
</html>
