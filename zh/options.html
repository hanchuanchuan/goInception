<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>审核选项 | goInception使用文档</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="goInception是一个集审核、执行、备份及生成回滚语句于一身的MySQL运维工具">
    
    <link rel="preload" href="/goInception/assets/css/0.styles.b57c7c20.css" as="style"><link rel="preload" href="/goInception/assets/js/app.35e44c5d.js" as="script"><link rel="preload" href="/goInception/assets/js/3.a468a5ac.js" as="script"><link rel="preload" href="/goInception/assets/js/17.7b28b5b1.js" as="script"><link rel="prefetch" href="/goInception/assets/js/10.44eb2437.js"><link rel="prefetch" href="/goInception/assets/js/11.05fdc934.js"><link rel="prefetch" href="/goInception/assets/js/12.5c06c266.js"><link rel="prefetch" href="/goInception/assets/js/13.bbd07852.js"><link rel="prefetch" href="/goInception/assets/js/14.222eb434.js"><link rel="prefetch" href="/goInception/assets/js/15.1cb8c282.js"><link rel="prefetch" href="/goInception/assets/js/16.6124a5c8.js"><link rel="prefetch" href="/goInception/assets/js/18.f6a993f8.js"><link rel="prefetch" href="/goInception/assets/js/19.caafd667.js"><link rel="prefetch" href="/goInception/assets/js/20.21a5c394.js"><link rel="prefetch" href="/goInception/assets/js/21.c7454f11.js"><link rel="prefetch" href="/goInception/assets/js/22.c2b2daca.js"><link rel="prefetch" href="/goInception/assets/js/23.d15fb4c3.js"><link rel="prefetch" href="/goInception/assets/js/24.f9fc20d1.js"><link rel="prefetch" href="/goInception/assets/js/25.7c473ba8.js"><link rel="prefetch" href="/goInception/assets/js/26.e910ea3c.js"><link rel="prefetch" href="/goInception/assets/js/27.7e628298.js"><link rel="prefetch" href="/goInception/assets/js/28.e23b8266.js"><link rel="prefetch" href="/goInception/assets/js/29.e351c224.js"><link rel="prefetch" href="/goInception/assets/js/30.11de2771.js"><link rel="prefetch" href="/goInception/assets/js/31.3bf72658.js"><link rel="prefetch" href="/goInception/assets/js/32.d8822cad.js"><link rel="prefetch" href="/goInception/assets/js/33.d4d8a1ce.js"><link rel="prefetch" href="/goInception/assets/js/34.bd66eb0b.js"><link rel="prefetch" href="/goInception/assets/js/35.206cd400.js"><link rel="prefetch" href="/goInception/assets/js/36.c789dffd.js"><link rel="prefetch" href="/goInception/assets/js/37.4ba29217.js"><link rel="prefetch" href="/goInception/assets/js/38.95671f5a.js"><link rel="prefetch" href="/goInception/assets/js/39.4e46b7ce.js"><link rel="prefetch" href="/goInception/assets/js/4.edffa37c.js"><link rel="prefetch" href="/goInception/assets/js/40.789c8cb7.js"><link rel="prefetch" href="/goInception/assets/js/41.d4792fc5.js"><link rel="prefetch" href="/goInception/assets/js/42.45c371f3.js"><link rel="prefetch" href="/goInception/assets/js/43.e30bc9ac.js"><link rel="prefetch" href="/goInception/assets/js/44.c6fe8287.js"><link rel="prefetch" href="/goInception/assets/js/45.6a810bc3.js"><link rel="prefetch" href="/goInception/assets/js/46.6ad33969.js"><link rel="prefetch" href="/goInception/assets/js/47.14da7ce7.js"><link rel="prefetch" href="/goInception/assets/js/48.d03fb0bb.js"><link rel="prefetch" href="/goInception/assets/js/49.e2b534ae.js"><link rel="prefetch" href="/goInception/assets/js/5.264a70d7.js"><link rel="prefetch" href="/goInception/assets/js/50.16ca0037.js"><link rel="prefetch" href="/goInception/assets/js/51.3f01183e.js"><link rel="prefetch" href="/goInception/assets/js/52.97fd4f1e.js"><link rel="prefetch" href="/goInception/assets/js/6.43094ae0.js"><link rel="prefetch" href="/goInception/assets/js/7.d744fe65.js"><link rel="prefetch" href="/goInception/assets/js/8.0f8f0b66.js"><link rel="prefetch" href="/goInception/assets/js/9.83817072.js"><link rel="prefetch" href="/goInception/assets/js/vendors~docsearch.6cb0424f.js">
    <link rel="stylesheet" href="/goInception/assets/css/0.styles.b57c7c20.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/goInception/zh/" class="home-link router-link-active"><!----> <span class="site-name">goInception使用文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/options.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/options.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="Select language" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/goInception/options.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/goInception/zh/options.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/hanchuanchuan/goInception" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/goInception/zh/" aria-current="page" class="sidebar-link">介绍</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>开始</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/zh/install.html" class="sidebar-link">安装</a></li><li><a href="/goInception/zh/params.html" class="sidebar-link">调用选项</a></li><li><a href="/goInception/zh/demo.html" class="sidebar-link">使用示例</a></li><li><a href="/goInception/zh/result.html" class="sidebar-link">结果集说明</a></li><li><a href="/goInception/zh/config.html" class="sidebar-link">config.toml说明</a></li><li><a href="/goInception/zh/permission.html" class="sidebar-link">权限说明</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>配置</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/zh/options.html" aria-current="page" class="active sidebar-link">审核选项</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/goInception/zh/options.html#variables列表" class="sidebar-link">variables列表</a></li><li class="sidebar-sub-header"><a href="/goInception/zh/options.html#示例" class="sidebar-link">示例</a></li><li class="sidebar-sub-header"><a href="/goInception/zh/options.html#重要说明-v1-2-2更新" class="sidebar-link">重要说明(V1.2.2更新)</a></li></ul></li><li><a href="/goInception/zh/rules.html" class="sidebar-link">审核规则</a></li><li><a href="/goInception/zh/backup.html" class="sidebar-link">备份功能</a></li><li><a href="/goInception/zh/osc.html" class="sidebar-link">DDL变更:pt-osc</a></li><li><a href="/goInception/zh/ghost.html" class="sidebar-link">DDL变更:gh-ost</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/goInception/zh/levels.html" class="sidebar-link">自定义审核级别</a></li><li><a href="/goInception/zh/kill_stmt.html" class="sidebar-link">KILL操作</a></li><li><a href="/goInception/zh/statistics.html" class="sidebar-link">统计功能</a></li><li><a href="/goInception/zh/tree.html" class="sidebar-link">语法树打印</a></li><li><a href="/goInception/zh/trans.html" class="sidebar-link">事务</a></li><li><a href="/goInception/zh/safe.html" class="sidebar-link">用户管理/鉴权</a></li><li><a href="/goInception/zh/diff.html" class="sidebar-link">对比inception</a></li></ul></section></li><li><a href="/goInception/zh/support.html" class="sidebar-link">赞助&amp;定制</a></li><li><a href="/goInception/zh/changelog.html" class="sidebar-link">更新日志</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="审核选项"><a href="#审核选项" class="header-anchor">#</a> 审核选项</h1> <p>goInception的审核规则都可以通过<code>inception show variables;</code>查看</p> <div class="language-sql extra-class"><pre class="language-sql"><code>inception <span class="token keyword">show</span> variables<span class="token punctuation">;</span>
</code></pre></div><p>并支持以下方式设置:</p> <ul><li>1.通过<code>inception set</code>设置</li></ul> <div class="language-sql extra-class"><pre class="language-sql"><code>inception <span class="token keyword">set</span> check_dml_limit <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>2.配置config.toml,并通过<code>-config=config.toml</code>指定配置文件启动</li></ul> <h2 id="variables列表"><a href="#variables列表" class="header-anchor">#</a> variables列表</h2> <p><img src="/goInception/assets/img/variables.51fa3e16.png" alt="variables列表"></p> <table><thead><tr><th>参数</th> <th>默认值</th> <th>可选范围</th> <th>说明</th></tr></thead> <tbody><tr><td>check_autoincrement_datatype</td> <td>false</td> <td>true,false</td> <td>当建表时自增列的类型不为int或者bigint时报错</td></tr> <tr><td>check_autoincrement_init_value</td> <td>false</td> <td>true,false</td> <td>当建表时自增列的值指定的不为1，则报错</td></tr> <tr><td>check_autoincrement_name</td> <td>false</td> <td>true,false</td> <td>建表时，如果指定的自增列的名字不为ID，则报错，说明是有意义的，给提示</td></tr> <tr><td>check_column_comment</td> <td>false</td> <td>true,false</td> <td>建表时，列没有注释时报错</td></tr> <tr><td>check_column_default_value</td> <td>false</td> <td>true,false</td> <td>检查在建表、修改列、新增列时，新的列属性是不是要有默认值</td></tr> <tr><td>check_column_position_change <code>v0.9</code></td> <td>false</td> <td>true,false</td> <td>检查列位置/顺序变更</td></tr> <tr><td>check_column_type_change <code>v0.7.3</code></td> <td>true</td> <td>true,false</td> <td>检查字段类型变更</td></tr> <tr><td>check_dml_limit</td> <td>false</td> <td>true,false</td> <td>在DML语句中使用了LIMIT时，是不是要报错</td></tr> <tr><td>check_dml_orderby</td> <td>false</td> <td>true,false</td> <td>在DML语句中使用了Order By时，是不是要报错</td></tr> <tr><td>check_dml_where</td> <td>false</td> <td>true,false</td> <td>在DML语句中没有WHERE条件时，是不是要报错</td></tr> <tr><td>check_float_double <code>v1.0.2</code></td> <td>false</td> <td>true,false</td> <td>开启时,当使用 <code>float/double</code> 类型时提示转成 <code>decimal</code> 类型</td></tr> <tr><td>check_identifier</td> <td>false</td> <td>true,false</td> <td>检查标识符是否正确,规则是[a-z,A-Z,0-9,_]</td></tr> <tr><td>check_identifier_lower  <code>v1.2.5</code></td> <td>false</td> <td>true,false</td> <td>要求标识符即表名、列名、索引名等必须为小写,默认为<code>false</code></td></tr> <tr><td>check_identifier_upper  <code>v1.0.2</code></td> <td>false</td> <td>true,false</td> <td>要求标识符即表名、列名、索引名等必须为大写,默认为<code>false</code></td></tr> <tr><td>check_implicit_type_conversion <code>v1.1.3</code></td> <td>false</td> <td>true,false</td> <td>检查where条件中是否存在隐式类型转换,默认值<code>false</code></td></tr> <tr><td>check_index_prefix</td> <td>false</td> <td>true,false</td> <td>是否检查索引前缀,索引前缀通过参数<code>index_prefix</code>和<code>uniq_index_prefix</code>配置</td></tr> <tr><td>check_insert_field</td> <td>false</td> <td>true,false</td> <td>是不是要检查插入语句中的列链表的存在性</td></tr> <tr><td>check_primary_key</td> <td>false</td> <td>true,false</td> <td>建表时，如果没有主键，则报错</td></tr> <tr><td>check_table_comment</td> <td>false</td> <td>true,false</td> <td>建表时，表没有注释时报错</td></tr> <tr><td>check_timestamp_count <code>v0.6.0</code></td> <td>false</td> <td>true,false</td> <td>配置是否检查current_timestamp数量</td></tr> <tr><td>check_timestamp_default</td> <td>false</td> <td>true,false</td> <td>建表时，如果没有为timestamp类型指定默认值，则报错</td></tr> <tr><td>columns_must_have_index <code>v1.2.2</code></td> <td>&quot;&quot;</td> <td>string</td> <td>指定的列必须添加索引。多个列时以逗号分隔(<code>格式: 列名 [列类型,可选]</code>),指定列类型时对类型也会限制.</td></tr> <tr><td>default_charset <code>v1.0.5</code></td> <td>&quot;utf8mb4&quot;</td> <td>string</td> <td>设置连接数据库的默认字符集,默认值为<code>utf8mb4</code> (解决低版本不支持utf8mb4的问题)</td></tr> <tr><td>disable_types <code>v1.2.6</code></td> <td>&quot;&quot;</td> <td>string</td> <td>禁用数据库类型,多个时以逗号分隔(合并参数 enable_blob_type,enable_json_type,enable_enum_set_bit,enable_timestamp_type)</td></tr> <tr><td>enable_autoincrement_unsigned</td> <td>false</td> <td>true,false</td> <td>自增列是不是要为无符号型</td></tr> <tr><td>enable_any_statement <code>v1.2.5</code></td> <td>false</td> <td>true,false</td> <td>是否允许所有语法(仍受其他开关影响,如删表等).<a href="https://github.com/hanchuanchuan/goInception/pull/301" target="_blank" rel="noopener noreferrer">详细说明见PR<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td></tr> <tr><td>enable_blob_not_null <code>v1.0</code></td> <td>false</td> <td>true,false</td> <td>是否允许blob/text/json类型置为<code>not null</code>,默认为<code>false</code>,即不允许</td></tr> <tr><td>enable_blob_type  <code>已弃用</code></td> <td>false</td> <td>true,false</td> <td>检查是不是支持BLOB字段，包括建表、修改列、新增列操作 (使用参数<code>disable_types</code>代替)</td></tr> <tr><td>enable_change_column <code>v1.0.3</code></td> <td>true</td> <td>true,false</td> <td>设置是否支持change column语法,默认值<code>true</code></td></tr> <tr><td>enable_column_charset</td> <td>false</td> <td>true,false</td> <td>允许列自己设置字符集</td></tr> <tr><td>enable_drop_database</td> <td>false</td> <td>true,false</td> <td>是否允许删除数据库</td></tr> <tr><td>enable_drop_table</td> <td>false</td> <td>true,false</td> <td>是否允许删除表</td></tr> <tr><td>enable_enum_set_bit  <code>已弃用</code></td> <td>false</td> <td>true,false</td> <td>是不是支持enum,set,bit数据类型 (使用参数<code>disable_types</code>代替)</td></tr> <tr><td>enable_fingerprint <code>v0.6.2</code></td> <td>false</td> <td>true,false</td> <td>sql指纹功能。dml语句相似时，可以根据相同的指纹ID复用explain结果，以减少远端数据库explain操作，并提高审核速度</td></tr> <tr><td>explain_rule <code>v1.1.1</code></td> <td>&quot;first&quot;</td> <td>&quot;first&quot;, &quot;max&quot;</td> <td>explain判断受影响行数时使用的规则(<code>&quot;first&quot;, &quot;max&quot;</code>)。  <code>&quot;first&quot;</code>: 使用第一行的explain结果作为受影响行数, <code>&quot;max&quot;</code>: 		使用explain结果中的最大值作为受影响行数</td></tr> <tr><td>enable_foreign_key</td> <td>false</td> <td>true,false</td> <td>是不是支持外键</td></tr> <tr><td>enable_identifer_keyword</td> <td>false</td> <td>true,false</td> <td>检查在SQL语句中，是不是有标识符被写成MySQL的关键字，默认值为报警。</td></tr> <tr><td>enable_json_type  <code>v0.7.2</code> <code>已弃用</code></td> <td>false</td> <td>true,false</td> <td>设置是否允许json类型字段，包括建表、修改列、新增列操作 (使用参数<code>disable_types</code>代替)</td></tr> <tr><td>enable_minimal_rollback <code>v1.1.2</code></td> <td>false</td> <td>true,false</td> <td>设置是否启用最小化回滚SQL，当开启时，update的回滚语句仅记录最小化变更(未变更列不再记录), 默认为<code>false</code></td></tr> <tr><td><s>enable_not_innodb  <code>v1.0-rc4 已删除</code></s></td> <td>false</td> <td>true,false</td> <td><code>已删除!</code> 请使用 <code>enable_set_engine</code>和 <code>support_engine</code>以便于更灵活的指定存储引擎。 <s><em>建表指定的存储引擎不为Innodb，不报错</em></s></td></tr> <tr><td>enable_nullable</td> <td>true</td> <td>true,false</td> <td>创建或者新增列时是否允许列为NULL</td></tr> <tr><td>enable_null_index_name <code>v0.7.1</code></td> <td>false</td> <td>true,false</td> <td>创建索引时是否允许空索引名</td></tr> <tr><td>enable_orderby_rand</td> <td>false</td> <td>true,false</td> <td>order by rand时是不是报错</td></tr> <tr><td>enable_partition_table</td> <td>false</td> <td>true,false</td> <td>是不是支持分区表</td></tr> <tr><td>enable_pk_columns_only_int</td> <td>false</td> <td>true,false</td> <td>是否强制主键列必须是int</td></tr> <tr><td>enable_select_star</td> <td>false</td> <td>true,false</td> <td>Select*时是不是要报错</td></tr> <tr><td>enable_set_charset</td> <td>false</td> <td>true,false</td> <td>是否允许指定表和数据库的字符集</td></tr> <tr><td>enable_set_collation <code>v0.7</code></td> <td>false</td> <td>true,false</td> <td>是否允许指定表和数据库的排序规则</td></tr> <tr><td>enable_set_engine  <code>v1.0-rc4</code></td> <td>true</td> <td>true,false</td> <td>是否允许指定存储引擎,默认为<code>true</code></td></tr> <tr><td>enable_sql_statistic <code>v0.9</code></td> <td>false</td> <td>true,false</td> <td>开启统计功能. 详见 <strong><a href="/goInception/zh/statistics.html">统计功能</a></strong></td></tr> <tr><td>enable_timestamp_type <code>v1.0.1</code> <code>已弃用</code></td> <td>true</td> <td>true,false</td> <td>设置是否允许 <code>timestamp</code> 类型字段，包括建表、修改列、新增列操作，默认为 <code>true</code> (使用参数<code>disable_types</code>代替)</td></tr> <tr><td>enable_use_view <code>v1.2.4</code></td> <td>false</td> <td>true,false</td> <td>支持创建和使用视图</td></tr> <tr><td>enable_zero_date <code>v1.0.1</code></td> <td>true</td> <td>true,false</td> <td>设置是否支持时间为0值，关闭时强制报错。默认值为 <code>true</code>，即开启，此时会基于数据库sql_mode的NO_ZERO_DATE判断是否支持</td></tr> <tr><td>general_log <code>v0.8.1</code></td> <td>false</td> <td>true,false</td> <td>是否记录全量日志</td></tr> <tr><td>hex_blob <code>v1.1.4</code></td> <td>false</td> <td>true,false</td> <td>在解析binlog时,二进制类型如果无法以字符串形式保存,则以十六进制字符串转储(影响类型:binary,varbinary,blob),默认关闭</td></tr> <tr><td>ignore_osc_alter_stmt <code>v1.2.4</code></td> <td>&quot;&quot;</td> <td>string</td> <td>配置要强制忽略osc的alter子句. 格式为drop index,add column等,多个时以逗号分隔</td></tr> <tr><td>lang <code>v0.5.1</code></td> <td>en-US</td> <td>en-US,zh-CN</td> <td>返回的信息使用语言,可选值<code>en-US</code>,<code>zh-CN</code></td></tr> <tr><td>lock_wait_timeout <code>v1.2.4</code></td> <td>-1</td> <td>int</td> <td>会话在执行SQL时的元数据锁等待超时,单位:秒</td></tr> <tr><td>max_allowed_packet    <code>v1.0-rc3</code></td> <td>4194304</td> <td>int</td> <td>允许的最大数据包大小.默认为 <code>4194304</code>,单位字节,即4MB</td></tr> <tr><td>max_char_length</td> <td>0</td> <td>int</td> <td>最大char长度,当超出时警告转换为varchar类型</td></tr> <tr><td>max_ddl_affect_rows <code>v1.0.2</code></td> <td>0</td> <td>int</td> <td>当DDL预估受影响行数超出设置值时警告,为0时不限制</td></tr> <tr><td>max_execution_time <code>v1.2.5</code></td> <td>0</td> <td>int</td> <td>配置远端数据库的max_execution_time,为0时不限制</td></tr> <tr><td>max_insert_rows   <code>v0.6.3</code></td> <td>0</td> <td>int</td> <td>设置insert values允许的最大行数.0为不限制</td></tr> <tr><td>max_key_parts</td> <td>3</td> <td>int</td> <td>一个索引最多可指定的列数</td></tr> <tr><td>max_keys</td> <td>3</td> <td>int</td> <td>单表允许的最大索引数</td></tr> <tr><td>max_primary_key_parts</td> <td>3</td> <td>int</td> <td>主键最多可指定的列数</td></tr> <tr><td>max_update_rows</td> <td>5000</td> <td>int</td> <td>当update/delete预估受影响行数超出设置值时警告</td></tr> <tr><td>merge_alter_table</td> <td>false</td> <td>true,false</td> <td>在多个改同一个表的语句出现是，报错，提示合成一个</td></tr> <tr><td>must_have_columns  <code>v0.6.3</code></td> <td>&quot;&quot;</td> <td>string</td> <td>用以指定建表时必须创建的列。多个列时以逗号分隔(<code>格式: 列名 [列类型,可选]</code>)</td></tr> <tr><td>skip_sqls <code>v1.0-rc3</code></td> <td>&quot;&quot;</td> <td>string</td> <td>指定不再审核的SQL.该参数指定要跳过的客户端/框架默认SQL,以实现客户端兼容</td></tr> <tr><td>sql_mode <code>v1.2.4</code></td> <td>&quot;&quot;</td> <td>string</td> <td>连接远程数据库的默认sql_mode设置</td></tr> <tr><td>sql_safe_updates</td> <td>-1</td> <td>-1,0,1</td> <td>安全更新.-1表示不做操作,基于远端数据库,0表示关闭安全更新,1表示开启安全更新</td></tr> <tr><td>support_charset</td> <td>utf8,utf8mb4</td> <td>string</td> <td>支持的字符集,多个时以逗号分隔</td></tr> <tr><td>support_collation <code>v0.7</code></td> <td>&quot;&quot;</td> <td>string</td> <td>支持的排序规则,多个时以逗号分隔</td></tr> <tr><td>support_engine <code>v1.0-rc4</code></td> <td>&quot;innodb&quot;</td> <td>string</td> <td>支持的存储引擎类型.默认为<code>innodb</code>,此处可以设置多个,以逗号分隔,或者修改默认的存在引擎类型</td></tr> <tr><td>index_prefix <code>v1.2.0</code></td> <td>&quot;idx_&quot;</td> <td>string</td> <td>普通索引前缀，默认为 <code>idx_</code>, 受审核参数 <code>check_index_prefix</code> 影响。为空时不限制</td></tr> <tr><td>uniq_index_prefix <code>v1.2.0</code></td> <td>&quot;uniq_&quot;</td> <td>string</td> <td>唯一索引前缀，默认为 <code>uniq_</code>, 受审核参数 <code>check_index_prefix</code> 影响。为空时不限制</td></tr> <tr><td>table_prefix <code>v1.2.0</code></td> <td>&quot;&quot;</td> <td>string</td> <td>表名前缀,默认为空,即不限制</td></tr> <tr><td>wait_timeout <code>v1.1.2</code></td> <td>0</td> <td>int</td> <td>远端数据库等待超时时间, 单位:秒, 默认值为 <code>0</code> 时表示使用数据库默认值</td></tr></tbody></table> <h2 id="示例"><a href="#示例" class="header-anchor">#</a> 示例</h2> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">/*--user=xxx;--password=xxx;--host=127.0.0.1;--port=3306;--check=1;*/</span>
inception_magic_start<span class="token punctuation">;</span>
<span class="token keyword">use</span> test<span class="token punctuation">;</span>

<span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t1<span class="token punctuation">,</span>t2<span class="token punctuation">;</span>

inception <span class="token keyword">set</span> check_table_comment <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t1<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inception <span class="token keyword">set</span> check_table_comment <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> t2<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

inception_magic_commit<span class="token punctuation">;</span>
</code></pre></div><p>审核结果(隐藏了部分列)：
注意，<code>inception set</code> 的行并不返回！除非set失败报错。</p> <table><thead><tr><th>order_id</th> <th>stage</th> <th>error_level</th> <th>stage_status</th> <th>error_message</th> <th>sql</th></tr></thead> <tbody><tr><td>1</td> <td>CHECKED</td> <td>0</td> <td>Audit Completed</td> <td>None</td> <td>use test_inc</td></tr> <tr><td>2</td> <td>CHECKED</td> <td>0</td> <td>Audit Completed</td> <td>None</td> <td>drop table if exists t1,t2</td></tr> <tr><td>3</td> <td>CHECKED</td> <td>1</td> <td>Audit Completed</td> <td>表 't1' 需要设置注释.</td> <td>create table t1(id int primary key)values(1,1,1)</td></tr> <tr><td>4</td> <td>CHECKED</td> <td>0</td> <td>Audit Completed</td> <td>None</td> <td>create table t2(id int primary key)</td></tr></tbody></table> <h2 id="重要说明-v1-2-2更新"><a href="#重要说明-v1-2-2更新" class="header-anchor">#</a> 重要说明(V1.2.2更新)</h2> <p>从<code>V1.2.2</code>版本开始，支持在SQL语句内部动态设置审核选项，实现会话级变量设置.
(<a href="https://github.com/hanchuanchuan/goInception/issues/166" target="_blank" rel="noopener noreferrer">相关issue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/hanchuanchuan/goInception/edit/master/docs/zh/options.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2022/1/11下午7:39:19</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/goInception/zh/permission.html" class="prev">
        权限说明
      </a></span> <span class="next"><a href="/goInception/zh/rules.html">
        审核规则
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/goInception/assets/js/app.35e44c5d.js" defer></script><script src="/goInception/assets/js/3.a468a5ac.js" defer></script><script src="/goInception/assets/js/17.7b28b5b1.js" defer></script>
  </body>
</html>
