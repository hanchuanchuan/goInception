(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{428:function(t,a,s){"use strict";s.r(a);var e=s(44),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"config-toml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-toml"}},[t._v("#")]),t._v(" config.toml")]),t._v(" "),s("h2",{attrs:{id:"config-toml配置文件说明"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#config-toml配置文件说明"}},[t._v("#")]),t._v(" config.toml配置文件说明")]),t._v(" "),s("p",[t._v("goInception通过"),s("code",[t._v("./goInception -config=config/config.toml")]),t._v("方式启动，接下来说明config.toml中的各项配置。")]),t._v(" "),s("p",[s("strong",[t._v("由于goInception采用TiDB源码重构，所以部分参数可参考TiDB相关文档")])]),t._v(" "),s("p",[s("code",[t._v("config.toml")]),t._v("文件由几部分组成，分别为最外层配置如"),s("code",[t._v("host")]),t._v(","),s("code",[t._v("port")]),t._v("等，以及各分组如"),s("code",[t._v("[inc]")]),t._v(","),s("code",[t._v("[log]")]),t._v("等，接下来逐一说明。")]),t._v(" "),s("p",[t._v("示例(该示例仅为展示config.toml文件结构，"),s("a",{attrs:{href:"https://github.com/hanchuanchuan/goInception/blob/master/config/config.toml.default",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参数请参考"),s("OutboundLink")],1),t._v(")：")]),t._v(" "),s("div",{staticClass:"language-toml extra-class"},[s("pre",{pre:!0,attrs:{class:"language-toml"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("host")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.0.0.0"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("port")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("path")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/tmp/tidb"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("level")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"info"')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("format")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("log.file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 日志文件参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("filename")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("max-size")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("300")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("inc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 审核选项")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("enable_nullable")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("enable_drop_table")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("check_table_comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("check_column_comment")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 等等...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("osc")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pt-osc参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("osc_on")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("osc_min_table_size")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token table class-name"}},[t._v("ghost")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# gh-ost参数")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token key property"}},[t._v("ghost_allow_on_master")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n\n")])])]),s("h3",{attrs:{id:"host"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[t._v("#")]),t._v(" host")]),t._v(" "),s("p",[t._v("绑定的IP地址，默认值 "),s("code",[t._v("0.0.0.0")])]),t._v(" "),s("h3",{attrs:{id:"port"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#port"}},[t._v("#")]),t._v(" port")]),t._v(" "),s("p",[t._v("绑定的端口，默认值 "),s("code",[t._v("4000")])]),t._v(" "),s("h3",{attrs:{id:"path"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#path"}},[t._v("#")]),t._v(" path")]),t._v(" "),s("p",[t._v("TiDB数据库目录，默认值 "),s("code",[t._v("/tmp/tidb")]),t._v("，该参数会创建少量TiDB的系统表，如果设置为空时，则会在内存中创建。\n建议指定实际目录，这样会加快启动的速度。")]),t._v(" "),s("h3",{attrs:{id:"inc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inc"}},[t._v("#")]),t._v(" [inc]")]),t._v(" "),s("p",[t._v("所有的 "),s("strong",[s("RouterLink",{attrs:{to:"/zh/options.html"}},[t._v("审核选项")])],1),t._v(" 在此处设置")]),t._v(" "),s("h3",{attrs:{id:"osc"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#osc"}},[t._v("#")]),t._v(" [osc]")]),t._v(" "),s("p",[t._v("所有的 "),s("strong",[s("RouterLink",{attrs:{to:"/zh/osc.html"}},[t._v("pt-osc选项")])],1),t._v(" 在此处设置")]),t._v(" "),s("h3",{attrs:{id:"gh-ost"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gh-ost"}},[t._v("#")]),t._v(" [gh-ost]")]),t._v(" "),s("p",[t._v("所有的 "),s("strong",[s("RouterLink",{attrs:{to:"/zh/ghost.html"}},[t._v("gh-ost选项")])],1),t._v(" 在此处设置")]),t._v(" "),s("h3",{attrs:{id:"log"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log"}},[t._v("#")]),t._v(" [log]")]),t._v(" "),s("h4",{attrs:{id:"level"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#level"}},[t._v("#")]),t._v(" level")]),t._v(" "),s("p",[t._v("日志级别，默认值 "),s("code",[t._v("info")]),t._v("\n可选值： "),s("code",[t._v("debug")]),t._v(", "),s("code",[t._v("info")]),t._v(", "),s("code",[t._v("warn")]),t._v(", "),s("code",[t._v("error")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"format"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#format"}},[t._v("#")]),t._v(" format")]),t._v(" "),s("p",[t._v("日志格式，默认值 "),s("code",[t._v("text")]),t._v("\n可选值： "),s("code",[t._v("json")]),t._v(", "),s("code",[t._v("text")]),t._v(", "),s("code",[t._v("console")])]),t._v(" "),s("h4",{attrs:{id:"disable-timestamp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#disable-timestamp"}},[t._v("#")]),t._v(" disable-timestamp")]),t._v(" "),s("p",[t._v("禁用时间戳输出，默认值 "),s("code",[t._v("false")])]),t._v(" "),s("h3",{attrs:{id:"log-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-file"}},[t._v("#")]),t._v(" [log.file]")]),t._v(" "),s("h4",{attrs:{id:"filename"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filename"}},[t._v("#")]),t._v(" filename")]),t._v(" "),s("p",[t._v("日志文件，默认值 "),s("code",[t._v('""')]),t._v("\n建议指定日志文件，便于问题追溯")]),t._v(" "),s("h4",{attrs:{id:"max-size"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#max-size"}},[t._v("#")]),t._v(" max-size")]),t._v(" "),s("p",[t._v("日志文件的最大上限(MB)，默认值 "),s("code",[t._v("300")])]),t._v(" "),s("h4",{attrs:{id:"max-days"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#max-days"}},[t._v("#")]),t._v(" max-days")]),t._v(" "),s("p",[t._v("日志文件的保存天数，默认值 "),s("code",[t._v("0")]),t._v("，即不清理")]),t._v(" "),s("h4",{attrs:{id:"max-backups"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#max-backups"}},[t._v("#")]),t._v(" max-backups")]),t._v(" "),s("p",[t._v("要保留的最大旧日志文件数，默认值 "),s("code",[t._v("0")]),t._v("，即不清理")]),t._v(" "),s("h4",{attrs:{id:"log-rotate"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#log-rotate"}},[t._v("#")]),t._v(" log-rotate")]),t._v(" "),s("p",[t._v("日志轮询，默认值 "),s("code",[t._v("true")]),t._v("，即开启")])])}),[],!1,null,null,null);a.default=n.exports}}]);